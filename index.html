<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ibonarium.time</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400&display=swap" rel="stylesheet">

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:#04060c;
  overflow:hidden;
  font-family:'Inter',system-ui,sans-serif;
}

/* ===== STAR BACKGROUND ===== */
#stars,#stars2{
  position:absolute;
  inset:0;
  background-repeat:repeat;
  animation: drift linear infinite;
}

#stars{
  background-image:
    radial-gradient(1px 1px at 20px 30px, white, transparent),
    radial-gradient(1px 1px at 200px 150px, white, transparent),
    radial-gradient(1px 1px at 400px 80px, white, transparent);
  opacity:.6;
  animation-duration:180s;
}

#stars2{
  background-image:
    radial-gradient(1.5px 1.5px at 120px 220px, white, transparent),
    radial-gradient(1.5px 1.5px at 320px 420px, white, transparent);
  opacity:.3;
  animation-duration:320s;
}

@keyframes drift{
  from{transform:translate(0,0);}
  to{transform:translate(-50%,-50%);}
}

/* ===== CENTER ===== */
#wrap{
  position:relative;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}

canvas{
  width:min(80vw,80vh);
  height:min(80vw,80vh);
  backdrop-filter: blur(2px);
  filter: drop-shadow(0 0 28px rgba(212,175,55,.15));
}
</style>
</head>

<body>

<div id="stars"></div>
<div id="stars2"></div>

<div id="wrap">
  <canvas id="clock"></canvas>
</div>

<script>
const canvas = document.getElementById("clock");
const ctx = canvas.getContext("2d");

function resize(){
  const s = Math.min(innerWidth, innerHeight) * 0.8;
  canvas.width = s * devicePixelRatio;
  canvas.height = s * devicePixelRatio;
  ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
}
resize();
addEventListener("resize", resize);

function draw(){
  const w = canvas.width / devicePixelRatio;
  const h = canvas.height / devicePixelRatio;
  const cx = w/2;
  const cy = h/2;
  const r = w*0.45;

  ctx.clearRect(0,0,w,h);

  /* outer glass ring */
  ctx.beginPath();
  ctx.arc(cx,cy,r,0,Math.PI*2);
  ctx.strokeStyle="rgba(255,255,255,0.18)";
  ctx.lineWidth=1;
  ctx.stroke();

  /* ticks */
  for(let i=0;i<60;i++){
    const a=i*Math.PI/30;
    const len=i%5===0?r*0.07:r*0.035;
    ctx.beginPath();
    ctx.moveTo(
      cx+Math.sin(a)*(r-len),
      cy-Math.cos(a)*(r-len)
    );
    ctx.lineTo(
      cx+Math.sin(a)*r,
      cy-Math.cos(a)*r
    );
    ctx.strokeStyle=i%5===0
      ?"rgba(255,255,255,0.55)"
      :"rgba(255,255,255,0.25)";
    ctx.lineWidth=i%5===0?1.6:1;
    ctx.stroke();
  }

  /* 24h numbers */
  ctx.fillStyle="rgba(255,255,255,0.65)";
  ctx.font=`${r*0.09}px Inter`;
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  for(let h24=0;h24<24;h24++){
    const a=h24*Math.PI/12;
    ctx.fillText(
      h24,
      cx+Math.sin(a)*r*0.72,
      cy-Math.cos(a)*r*0.72
    );
  }

  const now=new Date();
  const hour=now.getHours()+now.getMinutes()/60;
  const min=now.getMinutes()+now.getSeconds()/60;
  const sec=now.getSeconds();

  function hand(angle,length,width,color,glow=0){
    ctx.save();
    ctx.beginPath();
    ctx.moveTo(cx,cy);
    ctx.lineTo(
      cx+Math.sin(angle)*length,
      cy-Math.cos(angle)*length
    );
    ctx.strokeStyle=color;
    ctx.lineWidth=width;
    ctx.lineCap="round";
    ctx.shadowColor=color;
    ctx.shadowBlur=glow;
    ctx.stroke();
    ctx.restore();
  }

  /* hour */
  hand(hour*Math.PI/12,r*0.45,r*0.04,"#d4af37",10);
  ctx.fillStyle="#d4af37";
  ctx.font=`${r*0.07}px Inter`;
  ctx.fillText(
    Math.floor(hour),
    cx+Math.sin(hour*Math.PI/12)*r*0.32,
    cy-Math.cos(hour*Math.PI/12)*r*0.32
  );

  /* minute */
  hand(min*Math.PI/30,r*0.65,r*0.025,"rgba(255,255,255,.85)",6);
  ctx.fillStyle="rgba(255,255,255,.85)";
  ctx.font=`${r*0.06}px Inter`;
  ctx.fillText(
    Math.floor(min),
    cx+Math.sin(min*Math.PI/30)*r*0.45,
    cy-Math.cos(min*Math.PI/30)*r*0.45
  );

  /* second (reflex) */
  hand(sec*Math.PI/30,r*0.78,r*0.012,"rgba(255,120,120,.95)",18);
  ctx.fillStyle="rgba(255,120,120,.9)";
  ctx.font=`${r*0.055}px Inter`;
  ctx.fillText(
    sec,
    cx+Math.sin(sec*Math.PI/30)*r*0.88,
    cy-Math.cos(sec*Math.PI/30)*r*0.88
  );

  /* center */
  ctx.beginPath();
  ctx.arc(cx,cy,r*0.035,0,Math.PI*2);
  ctx.fillStyle="#d4af37";
  ctx.shadowBlur=12;
  ctx.shadowColor="#d4af37";
  ctx.fill();
  ctx.shadowBlur=0;

  requestAnimationFrame(draw);
}

draw();
</script>

</body>
</html>
