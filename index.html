<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <title>ibonarium.time</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow">

    <style>
        html, body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            font-family: Georgia, serif;
            color: #9fe7ff;
        }

        canvas {
            position: fixed;
            inset: 0;
        }

        #clock {
            z-index: 2;
            cursor: grab;
        }

        #clock:active {
            cursor: grabbing;
        }

        /* Planet info popup */
        .planet-info {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #4dd2ff;
            border-radius: 15px;
            padding: 20px;
            max-width: 90%;
            width: 400px;
            z-index: 100;
            display: none;
            box-shadow: 0 0 40px rgba(77, 210, 255, 0.6);
        }

        .planet-info.active {
            display: block;
            animation: popIn 0.3s ease-out;
        }

        @keyframes popIn {
            from {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        .planet-info h2 {
            color: #9fe7ff;
            margin: 0 0 10px 0;
            font-size: 22px;
            text-shadow: 0 0 10px #4dd2ff;
        }

        .planet-info p {
            color: #9fe7ff;
            line-height: 1.5;
            margin: 5px 0;
        }

        .planet-info .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: #9fe7ff;
            font-size: 26px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            line-height: 30px;
        }

        .planet-info .close-btn:hover {
            color: #4dd2ff;
            text-shadow: 0 0 10px #4dd2ff;
        }

        /* Wheel zoom hint */
        .zoom-hint {
            position: fixed;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(159, 231, 255, 0.4);
            font-family: Georgia, serif;
            font-size: 12px;
            z-index: 10;
            user-select: none;
        }

        @media (max-width: 600px) {
            .planet-info {
                padding: 15px;
                width: 90%;
            }

            .planet-info h2 {
                font-size: 18px;
            }

            .planet-info p {
                font-size: 14px;
            }

            .zoom-hint {
                font-size: 10px;
            }
        }
    </style>
</head>

<body>

    <canvas id="stars"></canvas>
    <canvas id="clock"></canvas>

    <div class="planet-info" id="planetInfo">
        <button class="close-btn" id="closeInfo">√ó</button>
        <h2 id="planetName"></h2>
        <p id="planetDesc"></p>
    </div>

    <div class="zoom-hint">üñ±Ô∏è –ö–æ–ª—ñ—â–∞—Ç–∫–æ –º–∏—à—ñ ‚Äî –∑—É–º</div>

    <script>
        /* ================== STARS BACKGROUND ================== */
        const s = document.getElementById("stars");
        const sctx = s.getContext("2d");
        let SW, SH, stars = [];

        function resizeStars() {
            SW = s.width = innerWidth;
            SH = s.height = innerHeight;
            stars = Array.from({ length: 180 }, () => ({
                x: Math.random() * SW,
                y: Math.random() * SH,
                z: Math.random() * SW
            }));
        }
        resizeStars();
        addEventListener("resize", resizeStars);

        function drawStars() {
            sctx.fillStyle = "#000";
            sctx.fillRect(0, 0, SW, SH);
            sctx.fillStyle = "#4dd2ff";
            stars.forEach(st => {
                st.z -= 0.25;
                if (st.z <= 0) st.z = SW;
                const k = 128 / st.z;
                const x = (st.x - SW / 2) * k + SW / 2;
                const y = (st.y - SH / 2) * k + SH / 2;
                if (x > 0 && x < SW && y > 0 && y < SH) {
                    const size = (1 - st.z / SW) * 2;
                    sctx.fillRect(x, y, size, size);
                }
            });
            requestAnimationFrame(drawStars);
        }
        drawStars();

        /* ================== CLOCK / SOLAR SYSTEM ================== */
        const c = document.getElementById("clock");
        const ctx = c.getContext("2d");

        let offsetX = 0, offsetY = 0, scale = 1;
        let isDragging = false, lastX = 0, lastY = 0;

        function resizeClock() {
            c.width = innerWidth;
            c.height = innerHeight;
        }
        resizeClock();
        addEventListener("resize", resizeClock);

        const planetData = {
            "Mercury": { name: "–ú–µ—Ä–∫—É—Ä—ñ–π", desc: "–ù–∞–π–±–ª–∏–∂—á–∞ –ø–ª–∞–Ω–µ—Ç–∞ –¥–æ –°–æ–Ω—Ü—è. –ù–∞–π–º–µ–Ω—à–∞ –ø–ª–∞–Ω–µ—Ç–∞ –°–æ–Ω—è—á–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏." },
            "Venus": { name: "–í–µ–Ω–µ—Ä–∞", desc: "–î—Ä—É–≥–∞ –ø–ª–∞–Ω–µ—Ç–∞ –≤—ñ–¥ –°–æ–Ω—Ü—è. –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É CO‚ÇÇ." },
            "Earth": { name: "–ó–µ–º–ª—è", desc: "–¢—Ä–µ—Ç—è –ø–ª–∞–Ω–µ—Ç–∞ –≤—ñ–¥ –°–æ–Ω—Ü—è. –Ñ–¥–∏–Ω–∞ –≤—ñ–¥–æ–º–∞ –ø–ª–∞–Ω–µ—Ç–∞ –∑ –∂–∏—Ç—Ç—è–º." },
            "Mars": { name: "–ú–∞—Ä—Å", desc: "–ß–µ—Ç–≤–µ—Ä—Ç–∞ –ø–ª–∞–Ω–µ—Ç–∞, '–ß–µ—Ä–≤–æ–Ω–∞ –ø–ª–∞–Ω–µ—Ç–∞'." },
            "Jupiter": { name: "–Æ–ø—ñ—Ç–µ—Ä", desc: "–ü'—è—Ç–∞ –ø–ª–∞–Ω–µ—Ç–∞, –Ω–∞–π–±—ñ–ª—å—à–∏–π –≥–∞–∑–æ–≤–∏–π –≥—ñ–≥–∞–Ω—Ç." },
            "Saturn": { name: "–°–∞—Ç—É—Ä–Ω", desc: "–®–æ—Å—Ç–∞ –ø–ª–∞–Ω–µ—Ç–∞. –í—ñ–¥–æ–º—ñ –∫—ñ–ª—å—Ü—è –∑ –ª—å–æ–¥—É —Ç–∞ –∫–∞–º—ñ–Ω–Ω—è." },
            "Uranus": { name: "–£—Ä–∞–Ω", desc: "–õ—å–æ–¥–æ–≤–∏–π –≥—ñ–≥–∞–Ω—Ç. –û–±–µ—Ä—Ç–∞—î—Ç—å—Å—è '–ª–µ–∂–∞—á–∏ –Ω–∞ –±–æ—Ü—ñ'." },
            "Neptune": { name: "–ù–µ–ø—Ç—É–Ω", desc: "–í–æ—Å—å–º–∞ –ø–ª–∞–Ω–µ—Ç–∞. –õ—å–æ–¥–æ–≤–∏–π –≥—ñ–≥–∞–Ω—Ç." }
        };

        const planets = [
            { name: "Mercury", r: 0.18, period: 88, size: 2 },
            { name: "Venus", r: 0.26, period: 225, size: 3 },
            { name: "Earth", r: 0.34, period: 365, size: 3 },
            { name: "Mars", r: 0.42, period: 687, size: 2.5 },
            { name: "Jupiter", r: 0.55, period: 4333, size: 6 },
            { name: "Saturn", r: 0.68, period: 10759, size: 5 },
            { name: "Uranus", r: 0.78, period: 30687, size: 4 },
            { name: "Neptune", r: 0.88, period: 60190, size: 4 }
        ];

        // Dragging
        c.addEventListener("mousedown", e => { isDragging = true; lastX = e.clientX; lastY = e.clientY; });
        c.addEventListener("mousemove", e => { if (isDragging) { offsetX += e.clientX - lastX; offsetY += e.clientY - lastY; lastX = e.clientX; lastY = e.clientY; } });
        c.addEventListener("mouseup", () => isDragging = false);
        c.addEventListener("mouseleave", () => isDragging = false);

        // Wheel zoom
        c.addEventListener("wheel", e => {
            e.preventDefault();
            const zoomFactor = 1.1;
            if (e.deltaY < 0) scale = Math.min(scale * zoomFactor, 5);
            else scale = Math.max(scale / zoomFactor, 0.5);
        });

        // Planet click
        c.addEventListener("click", e => {
            if (isDragging) return;
            const rect = c.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;
            const cx = c.width / 2 + offsetX;
            const cy = c.height / 2 + offsetY;
            const R = Math.min(c.width, c.height) * 0.42 * scale;
            const now = Date.now() / 86400000;

            for (let p of planets) {
                const pr = R * p.r * 0.65;
                const ang = (now / p.period) * Math.PI * 2;
                const px = cx + Math.cos(ang) * pr;
                const py = cy + Math.sin(ang) * pr;
                const dist = Math.hypot(mx - px, my - py);
                if (dist < p.size * 0.7 * scale + 10) { showPlanetInfo(p.name); return; }
            }
        });

        function showPlanetInfo(name) {
            const info = planetData[name];
            if (!info) return;
            document.getElementById("planetName").textContent = info.name;
            document.getElementById("planetDesc").textContent = info.desc;
            document.getElementById("planetInfo").classList.add("active");
        }

        document.getElementById("closeInfo").addEventListener("click", () => {
            document.getElementById("planetInfo").classList.remove("active");
        });

        /* ================== CLOCK WITH GLITCH ================== */
        function drawClock() {
            ctx.clearRect(0, 0, c.width, c.height);
            const cx = c.width / 2 + offsetX + (Math.random() - 0.5) * 2; // glitch center
            const cy = c.height / 2 + offsetY + (Math.random() - 0.5) * 2;
            const R = Math.min(c.width, c.height) * 0.42 * scale;

            // outer ring
            ctx.strokeStyle = "rgba(79,210,255,0.3)";
            ctx.lineWidth = 2 * scale;
            ctx.shadowColor = "#4dd2ff";
            ctx.shadowBlur = 20 * scale;
            ctx.beginPath();
            ctx.arc(cx, cy, R, 0, Math.PI * 2);
            ctx.stroke();
            ctx.shadowBlur = 0;

            // 24h markers with glitch
            for (let h = 0; h < 24; h++) {
                const a = h * 15 * Math.PI / 180 - Math.PI / 2;
                const mx = cx + Math.cos(a) * R * 0.92 + (Math.random() - 0.5) * 2;
                const my = cy + Math.sin(a) * R * 0.92 + (Math.random() - 0.5) * 2;
                ctx.fillStyle = h % 6 === 0 ? "rgba(159,231,255,0.9)" : "rgba(79,210,255,0.5)";
                ctx.beginPath();
                ctx.arc(mx, my, (h % 6 === 0 ? 4 : 2.5) * scale, 0, Math.PI * 2);
                ctx.fill();
                if (h % 6 === 0) {
                    ctx.fillStyle = "rgba(159,231,255,0.95)";
                    ctx.font = `${R * 0.1}px Georgia, serif`;
                    ctx.textAlign = "center";
                    ctx.textBaseline = "middle";
                    ctx.fillText(h, cx + Math.cos(a) * R * 0.78 + (Math.random() - 0.5) * 3, cy + Math.sin(a) * R * 0.78 + (Math.random() - 0.5) * 3);
                }
            }

            // planets
            const now = Date.now() / 86400000;
            planets.forEach((p, i) => {
                const pr = R * p.r * 0.65;
                ctx.strokeStyle = `rgba(79,210,255,${0.1 + i * 0.01})`;
                ctx.lineWidth = 0.5 * scale;
                ctx.beginPath();
                ctx.arc(cx, cy, pr, 0, Math.PI * 2);
                ctx.stroke();

                const ang = (now / p.period) * Math.PI * 2;
                const px = cx + Math.cos(ang) * pr;
                const py = cy + Math.sin(ang) * pr;
                ctx.fillStyle = "#9fe7ff";
                ctx.shadowColor = "#4dd2ff";
                ctx.shadowBlur = 8 * scale;
                ctx.beginPath();
                ctx.arc(px + (Math.random()-0.5)*2, py + (Math.random()-0.5)*2, p.size * 0.7 * scale, 0, Math.PI * 2);
                ctx.fill();
            });
            ctx.shadowBlur = 0;

            // clock hands with glitch
            const d = new Date();
            const h = d.getHours() + d.getMinutes() / 60;
            const m = d.getMinutes() + d.getSeconds() / 60;
            const sec = d.getSeconds() + d.getMilliseconds() / 1000;

            function hand(a, len, w, col, glow) {
                ctx.save();
                ctx.translate(cx + (Math.random()-0.5)*2, cy + (Math.random()-0.5)*2);
                ctx.rotate(a + (Math.random()-0.5)*0.01);
                const grad = ctx.createLinearGradient(-len * 0.2, 0, len, 0);
                grad.addColorStop(0, `${col}00`);
                grad.addColorStop(0.3, col);
                grad.addColorStop(1, col);
                ctx.strokeStyle = grad;
                ctx.lineWidth = w * scale;
                ctx.lineCap = "round";
                ctx.shadowColor = col;
                ctx.shadowBlur = glow * scale;
                ctx.beginPath();
                ctx.moveTo(-len * 0.2, 0);
                ctx.lineTo(len, 0);
                ctx.stroke();
                ctx.restore();
            }

            hand(h * 15 * Math.PI / 180, R * 0.5, 4, "#9fe7ff", 15);
            hand(m * 6 * Math.PI / 180, R * 0.7, 3, "#6fbaff", 12);
            hand(sec * 6 * Math.PI / 180, R * 0.85, 1.5, "#4dd2ff", 20);

            // center glow
            ctx.shadowColor = "#4dd2ff";
            ctx.shadowBlur = 15 * scale;
            ctx.fillStyle = "#9fe7ff";
            ctx.beginPath();
            ctx.arc(cx + (Math.random()-0.5)*2, cy + (Math.random()-0.5)*2, 5 * scale, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;

            requestAnimationFrame(drawClock);
        }
        drawClock();
    </script>

</body>
</html>
