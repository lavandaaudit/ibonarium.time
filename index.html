function draw(){
  const w=canvas.width/devicePixelRatio;
  const h=canvas.height/devicePixelRatio;
  const cx=w/2, cy=h/2;
  const r=w*0.45;

  /* trail fade */
  ctx.fillStyle="rgba(4,6,12,0.25)";
  ctx.fillRect(0,0,w,h);

  /* glass ring */
  ctx.beginPath();
  ctx.arc(cx,cy,r,0,Math.PI*2);
  ctx.strokeStyle="rgba(255,255,255,.12)";
  ctx.lineWidth=1;
  ctx.stroke();

  /* ticks */
  for(let i=0;i<60;i++){
    const a=i*Math.PI/30;
    const len=i%5===0?r*0.06:r*0.035;
    ctx.strokeStyle=i%5===0?
      "rgba(255,255,255,.45)":
      "rgba(255,255,255,.18)";
    ctx.lineWidth=i%5===0?1.3:1;
    ctx.beginPath();
    ctx.moveTo(
      cx+Math.sin(a)*(r-len),
      cy-Math.cos(a)*(r-len)
    );
    ctx.lineTo(
      cx+Math.sin(a)*r,
      cy-Math.cos(a)*r
    );
    ctx.stroke();
  }

  /* 24h numbers */
  ctx.fillStyle="rgba(255,255,255,.6)";
  ctx.font=`${r*0.095}px Inter`;
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  for(let h=0;h<24;h++){
    const a=h*Math.PI/12;
    ctx.fillText(
      h,
      cx+Math.sin(a)*r*0.68,
      cy-Math.cos(a)*r*0.68
    );
  }

  const n=new Date();
  const hour=n.getHours()+n.getMinutes()/60;
  const min=n.getMinutes()+n.getSeconds()/60;
  const sec=n.getSeconds()+n.getMilliseconds()/1000;

  const hand=(a,l,w,c,glow=0)=>{
    ctx.save();
    ctx.strokeStyle=c;
    ctx.lineWidth=w;
    ctx.lineCap="round";
    ctx.shadowColor=c;
    ctx.shadowBlur=glow;
    ctx.beginPath();
    ctx.moveTo(cx,cy);
    ctx.lineTo(
      cx+Math.sin(a)*l,
      cy-Math.cos(a)*l
    );
    ctx.stroke();
    ctx.restore();
  };

  /* hour + minute */
  hand(hour*Math.PI/12,r*0.48,r*0.035,"#d4af37",12);
  hand(min*Math.PI/30,r*0.7,r*0.022,"rgba(255,255,255,.85)",8);

  /* ===== glowing second hand ===== */
  const pulse = 10 + Math.sin(sec*2*Math.PI)*6;

  /* aura layers */
  for(let i=4;i>=1;i--){
    hand(
      sec*Math.PI/30,
      r*(0.8 + i*0.01),
      r*(0.02 + i*0.006),
      `rgba(255,90,90,${0.08*i})`,
      pulse*i
    );
  }

  /* core second hand */
  hand(
    sec*Math.PI/30,
    r*0.82,
    r*0.012,
    "rgba(255,120,120,.95)",
    18
  );

  /* center */
  ctx.beginPath();
  ctx.arc(cx,cy,r*0.035,0,Math.PI*2);
  ctx.fillStyle="#d4af37";
  ctx.shadowBlur=12;
  ctx.shadowColor="#d4af37";
  ctx.fill();
  ctx.shadowBlur=0;

  requestAnimationFrame(draw);
}
